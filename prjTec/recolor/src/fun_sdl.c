#include <SDL.h>
#include <stdbool.h>
// #include <stdio.h>
// #include <stdlib.h>
#include "SDL_model.h"
#include "game.h"
#include "fun_sdl.h"

SDL_Color getColorFromGameColor(color c) {
  switch (c) {
    case 0:
      return (SDL_Color){255, 0, 0, SDL_ALPHA_OPAQUE};
      break;
    case 1:
      return (SDL_Color){0, 255, 0, SDL_ALPHA_OPAQUE};
      break;
    case 2:
      return (SDL_Color){0, 0, 255, SDL_ALPHA_OPAQUE};
      break;
    case 3:
      return (SDL_Color){255, 255, 0, SDL_ALPHA_OPAQUE};
      break;
    case 4:
      return (SDL_Color){255, 0, 255, SDL_ALPHA_OPAQUE};
      break;
    case 5:
      return (SDL_Color){0, 255, 255, SDL_ALPHA_OPAQUE};
      break;
    case 6:
      return (SDL_Color){255, 153, 0, SDL_ALPHA_OPAQUE};
      break;
    case 7:
      return (SDL_Color){153, 51, 0, SDL_ALPHA_OPAQUE};
      break;
    case 8:
      return (SDL_Color){153, 204, 0, SDL_ALPHA_OPAQUE};
      break;
    case 9:
      return (SDL_Color){153, 0, 255, SDL_ALPHA_OPAQUE};
      break;
    case 10:
      return (SDL_Color){0, 153, 255, SDL_ALPHA_OPAQUE};
      break;
    case 11:
      return (SDL_Color){0, 255, 153, SDL_ALPHA_OPAQUE};
      break;
    case 12:
      return (SDL_Color){153, 255, 153, SDL_ALPHA_OPAQUE};
      break;
    case 13:
      return (SDL_Color){255, 153, 153, SDL_ALPHA_OPAQUE};
      break;
    case 14:
      return (SDL_Color){153, 153, 255, SDL_ALPHA_OPAQUE};
      break;
    case 15:
      return (SDL_Color){255, 255, 255, SDL_ALPHA_OPAQUE};
      break;

    default:
      return (SDL_Color){0, 0, 0, SDL_ALPHA_OPAQUE};
      break;
  }
}

#if !defined(__ANDROID__)
SDL_Cursor* createPaintBucket(color c) {
  SDL_Color rgbaColor = getColorFromGameColor(c);

  // Define paint color
  Uint32 pxRgbColor = (rgbaColor.r << 24) + (rgbaColor.g << 16) +
                      (rgbaColor.b << 8) + (rgbaColor.a << 0);

  // Create painting bucket cursor with paint color
  Uint32 pixels[32 * 32] = {
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 1
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 2
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x000000FF,
      0x000000FF, 0x000000FF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 3
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 4
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x000000FF, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 5
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x000000FF, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 6
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x000000FF, 0x000000FF, 0xFFFFFFFF, 0x000000FF,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 7
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 8
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x000000FF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 9
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x000000FF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 10
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x000000FF, 0x000000FF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 11
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x000000FF, 0x000000FF, pxRgbColor, 0x000000FF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 12
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x000000FF, pxRgbColor, pxRgbColor, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 13
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0x000000FF,
      pxRgbColor, pxRgbColor, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 14
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor,
      pxRgbColor, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 15
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor,
      0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 16
      0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor, pxRgbColor,
      0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 17
      0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor, pxRgbColor,
      0x000000FF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000,  // Row 18
      0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor, pxRgbColor,
      pxRgbColor, pxRgbColor, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF,
      0x00000000, 0x00000000,  // Row 19
      0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor, pxRgbColor,
      pxRgbColor, 0x000000FF, 0x000000FF, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000,  // Row 20
      0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor, pxRgbColor,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 21
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 22
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, pxRgbColor, pxRgbColor,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 23
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, pxRgbColor,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 24
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 25
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0xFFFFFFFF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 26
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x000000FF, 0xFFFFFFFF,
      0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x000000FF, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 27
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x000000FF, 0x000000FF, 0x000000FF, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 28
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x000000FF, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 29
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 30
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 31
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000,
      0x00000000, 0x00000000,  // Row 32
  };

  // Create rgb surface with format rgba
  SDL_Surface* surface = SDL_CreateRGBSurfaceWithFormatFrom(
      pixels, 32, 32, 32, 32 * 4, SDL_PIXELFORMAT_RGBA8888);

  // Create cursot with this format
  SDL_Cursor* cs = SDL_CreateColorCursor(surface, 6, 25);  // 2,17
  SDL_FreeSurface(surface);
  return cs;
}
#endif

bool btnIsMouseHover(SDL_Event* e, SDL_Rect r) {
  return e->button.x >= r.x && e->button.y >= r.y && e->button.x < r.x + r.w &&
         e->button.y < r.y + r.h;
}

bool btnIsFingerHover(SDL_Event* e, SDL_Rect r) {
  return e->tfinger.x >= r.x && e->tfinger.y >= r.y &&
         e->tfinger.x < r.x + r.w && e->tfinger.y < r.y + r.h;
}

bool requestQuit(SDL_Window* win) {
  const SDL_MessageBoxButtonData buttons[] = {
      {SDL_MESSAGEBOX_BUTTON_RETURNKEY_DEFAULT, 1, "Quitter"},
      {SDL_MESSAGEBOX_BUTTON_ESCAPEKEY_DEFAULT, 2, "Annuler"},
  };

  const SDL_MessageBoxColorScheme colorScheme = {
      {{250, 250, 250}, {40, 40, 40}, {0, 0, 0}, {255, 255, 255}, {0, 0, 0}}};

  const SDL_MessageBoxData messageboxdata = {
      SDL_MESSAGEBOX_WARNING,
      win,
      "Quitter ?",
      "Vous êtes sur de vouloir quitter, notre super jeu recolor ? :'(",
      SDL_arraysize(buttons),
      buttons,
      &colorScheme};

  int buttonid;
  if (SDL_ShowMessageBox(&messageboxdata, &buttonid) < 0)
    ERROR("SDL error", "Error: SDL_ShowMessageBox (%s)\n", SDL_GetError());

  if (buttonid == -1 || buttonid == 2) {
    return false;
  } else {
    return true;
  }
}
